{"version":3,"sources":["../fable_domainModel.fsx"],"names":[],"mappings":";;;;;;;;;;;AAEK;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAWA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAMA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAmB;AAAe;AAAhB;;AAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAC2B,oEAML,QANK;AASyB;AAEpB;AAZjB;;AAAf;AAAA;AAAA,oDAeG;AAAA,sEAMmB,QANnB;AASC;AAxBJ;AAAA;AAAA,gDA2BG;AAAA,gBAAG,CAAI,wCAAP,EACI;AAAA,4CAA6B,kCAA4B,cAA5B,CAA7B;AAA8D;AAAA;AA5BrE;AAAA;AAAA,8BA+BG;AAAA,wCAA6B,MAAqB;AAAA;AAAA,aAArB,4BAA7B;AAAqF;AA/BxF;AAAA;AAAA,+BAkCG;AAAA,0BAAsB;AAAA;AAAA,aAAtB;AAAoE;AAlCvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAUU;AAAA;AAAoB;AAV9B;AAAA;AAAA;AAAA;AAAA;AAAA,0BAYU;AAAA;AAAM;AAZhB;;AAAA;AAAA;;AAsCA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA","file":"fable_domainModel.js","sourcesContent":["open System\n\ntype TrackingJob = {\n    identifier : string;\n    marker : string;\n    subscription : string;\n    latitude : double;\n    longitude : double;\n    utcTimestamp : DateTime;\n    updatePositionOnMap : bool;\n    observe : bool; \n}\n\ntype Track = {\n    mintimestamp : DateTime;\n    maxtimestamp : DateTime;\n    name : string;\n}\n\ntype TrackingPoint = {\n   latitude : double;\n   longitude : double;\n   timestamputc : DateTime;   \n}\n\ntype TrackVisualization(name : string, points : TrackingPoint List) = \n    member this.TrackName = name\n    member this.Points = points       \n     \n\n\ntype TrackingService() = \n    member val ownTrackingJob = {            \n            identifier = String.Empty;\n            marker = String.Empty;\n            subscription = String.Empty;\n            latitude = 0.0;\n            longitude = 0.0;\n            utcTimestamp = DateTime.UtcNow;\n            updatePositionOnMap = true;\n            observe = true;}\n    member val observedTrackingJobs : TrackingJob List = List.Empty with get, set\n\n    member val Tracks : Track List = List.Empty with get, set\n    \n    member this.CreateTrackingJob(name, latitude, longitude) =\n        {            \n            identifier = name;\n            marker = String.Empty;\n            subscription = String.Empty;\n            latitude = latitude;\n            longitude = longitude;\n            utcTimestamp = DateTime.UtcNow;\n            updatePositionOnMap = true;\n            observe = true;        \n        }\n    \n    member this.AddTrackingJob(job, onObserveChanged) =\n        if not(this.ContainsTrackingJob(job.identifier)) then\n            this.observedTrackingJobs <- this.observedTrackingJobs @ [job]\n    \n    member this.DeleteTrackingJob(job) =\n        this.observedTrackingJobs <- List.where (fun j -> j <> job) this.observedTrackingJobs    \n    \n    member this.ContainsTrackingJob(name) =\n        List.exists (fun j -> j.identifier = name) this.observedTrackingJobs\n\n\n\ntype LocationTracker = {\n    TrackingService : TrackingService\n    Visualization : TrackVisualization\n    Tracks : Track List\n    Error : string option\n}\n    \n    \n"]}